(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t=function(){return t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)};function n(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;!function(){function t(e,t){return(t||"")+" (SystemJS Error#"+e+" https://git.io/JvFET#"+e+")"}var n,r="undefined"!=typeof Symbol,i="undefined"!=typeof self,o="undefined"!=typeof document,c=i?self:e.g;if(o){var s=document.querySelector("base[href]");s&&(n=s.href)}if(!n&&"undefined"!=typeof location){var u=(n=location.href.split("#")[0].split("?")[0]).lastIndexOf("/");-1!==u&&(n=n.slice(0,u+1))}var a=/\\/g;function f(e,t){if(-1!==e.indexOf("\\")&&(e=e.replace(a,"/")),"/"===e[0]&&"/"===e[1])return t.slice(0,t.indexOf(":")+1)+e;if("."===e[0]&&("/"===e[1]||"."===e[1]&&("/"===e[2]||2===e.length&&(e+="/"))||1===e.length&&(e+="/"))||"/"===e[0]){var n,r=t.slice(0,t.indexOf(":")+1);if(n="/"===t[r.length+1]?"file:"!==r?(n=t.slice(r.length+2)).slice(n.indexOf("/")+1):t.slice(8):t.slice(r.length+("/"===t[r.length])),"/"===e[0])return t.slice(0,t.length-n.length-1)+e;for(var i=n.slice(0,n.lastIndexOf("/")+1)+e,o=[],c=-1,s=0;s<i.length;s++)-1!==c?"/"===i[s]&&(o.push(i.slice(c,s+1)),c=-1):"."===i[s]?"."!==i[s+1]||"/"!==i[s+2]&&s+2!==i.length?"/"===i[s+1]||s+1===i.length?s+=1:c=s:(o.pop(),s+=2):c=s;return-1!==c&&o.push(i.slice(c)),t.slice(0,t.length-n.length)+o.join("")}}function l(e,t){return f(e,t)||(-1!==e.indexOf(":")?e:f("./"+e,t))}function p(e,t,n,r,i){for(var o in e){var c=f(o,n)||o,s=e[o];if("string"==typeof s){var u=y(r,f(s,n)||s,i);u?t[c]=u:m("W1",o,s,"bare specifier did not resolve")}}}function d(e,t){if(t[e])return e;var n=e.length;do{var r=e.slice(0,n+1);if(r in t)return r}while(-1!==(n=e.lastIndexOf("/",n-1)))}function h(e,t){var n=d(e,t);if(n){var r=t[n];if(null===r)return;if(!(e.length>n.length&&"/"!==r[r.length-1]))return r+e.slice(n.length);m("W2",n,r,"should have a trailing '/'")}}function m(e,n,r,i){console.warn(t(e,"Package target "+i+", resolving target '"+r+"' for "+n))}function y(e,t,n){for(var r=e.scopes,i=n&&d(n,r);i;){var o=h(t,r[i]);if(o)return o;i=d(i.slice(0,i.lastIndexOf("/")),r)}return h(t,e.imports)||-1!==t.indexOf(":")&&t}var v=r&&Symbol.toStringTag,g=r?Symbol():"@";function b(){this[g]={}}var O,w=b.prototype;function S(e){return e.id}function j(e,t,n,r){if(e.onload(n,t.id,t.d&&t.d.map(S),!!r),n)throw n}function E(e,n,r){var i=e[g][n];if(i)return i;var o=[],c=Object.create(null);v&&Object.defineProperty(c,v,{value:"Module"});var s=Promise.resolve().then((function(){return e.instantiate(n,r)})).then((function(r){if(!r)throw Error(t(2,"Module "+n+" did not instantiate"));var s=r[1]((function(e,t){i.h=!0;var n=!1;if("string"==typeof e)e in c&&c[e]===t||(c[e]=t,n=!0);else{for(var r in e){t=e[r];r in c&&c[r]===t||(c[r]=t,n=!0)}e&&e.__esModule&&(c.__esModule=e.__esModule)}if(n)for(var s=0;s<o.length;s++){var u=o[s];u&&u(c)}return t}),2===r[1].length?{"import":function(t){return e["import"](t,n)},meta:e.createContext(n)}:void 0);return i.e=s.execute||function(){},[r[0],s.setters||[]]}),(function(t){throw i.e=null,i.er=t,j(e,i,t,!0),t})),u=s.then((function(t){return Promise.all(t[0].map((function(r,i){var o=t[1][i];return Promise.resolve(e.resolve(r,n)).then((function(t){var r=E(e,t,n);return Promise.resolve(r.I).then((function(){return o&&(r.i.push(o),!r.h&&r.I||o(r.n)),r}))}))}))).then((function(e){i.d=e}))}));return i=e[g][n]={id:n,i:o,n:c,I:s,L:u,h:!1,d:void 0,e:void 0,er:void 0,E:void 0,C:void 0,p:void 0}}function x(e,t,n,r){if(!r[t.id])return r[t.id]=!0,Promise.resolve(t.L).then((function(){return t.p&&null!==t.p.e||(t.p=n),Promise.all(t.d.map((function(t){return x(e,t,n,r)})))}))["catch"]((function(n){if(t.er)throw n;throw t.e=null,j(e,t,n,!1),n}))}w["import"]=function(e,t){var n=this;return Promise.resolve(n.prepareImport()).then((function(){return n.resolve(e,t)})).then((function(e){var t=E(n,e);return t.C||function(e,t){return t.C=x(e,t,t,{}).then((function(){return k(e,t,{})})).then((function(){return t.n}))}(n,t)}))},w.createContext=function(e){var t=this;return{url:e,resolve:function(n,r){return Promise.resolve(t.resolve(n,r||e))}}},w.onload=function(){},w.register=function(e,t){O=[e,t]},w.getRegister=function(){var e=O;return O=void 0,e};var P=Object.freeze(Object.create(null));function k(e,t,n){if(!n[t.id]){if(n[t.id]=!0,!t.e){if(t.er)throw t.er;return t.E?t.E:void 0}var r;return t.d.forEach((function(i){try{var o=k(e,i,n);o&&(r=r||[]).push(o)}catch(c){throw t.e=null,t.er=c,j(e,t,c,!1),c}})),r?Promise.all(r).then(i):i()}function i(){try{var n=t.e.call(P);if(n)return n=n.then((function(){t.C=t.n,t.E=null,j(e,t,null,!0)}),(function(n){throw t.er=n,t.E=null,j(e,t,n,!0),n})),t.E=n;t.C=t.n,t.L=t.I=void 0}catch(r){throw t.er=r,r}finally{t.e=null,j(e,t,t.er,!0)}}}c.System=new b;var R,A,C=Promise.resolve(),M={imports:{},scopes:{},depcache:{},integrity:{}},T=o;function _(){[].forEach.call(document.querySelectorAll("script"),(function(e){if(!e.sp)if("systemjs-module"===e.type){if(e.sp=!0,!e.src)return;System["import"]("import:"===e.src.slice(0,7)?e.src.slice(7):l(e.src,n))["catch"]((function(t){if(t.message.indexOf("https://git.io/JvFET#3")>-1){var n=document.createEvent("Event");n.initEvent("error",!1,!1),e.dispatchEvent(n)}return Promise.reject(t)}))}else if("systemjs-importmap"===e.type){e.sp=!0;var r=e.src?(System.fetch||fetch)(e.src,{integrity:e.integrity,passThrough:!0}).then((function(e){if(!e.ok)throw Error("Invalid status code: "+e.status);return e.text()}))["catch"]((function(n){return n.message=t("W4","Error fetching systemjs-import map "+e.src)+"\n"+n.message,console.warn(n),"function"==typeof e.onerror&&e.onerror(),"{}"})):e.innerHTML;C=C.then((function(){return r})).then((function(r){!function(e,n,r){var i={};try{i=JSON.parse(n)}catch(o){console.warn(Error(t("W5","systemjs-importmap contains invalid JSON")+"\n\n"+n+"\n"))}!function(e,t,n){var r;for(r in e.imports&&p(e.imports,n.imports,t,n,null),e.scopes||{}){var i=l(r,t);p(e.scopes[r],n.scopes[i]||(n.scopes[i]={}),t,n,i)}for(r in e.depcache||{})n.depcache[l(r,t)]=e.depcache[r];for(r in e.integrity||{})n.integrity[l(r,t)]=e.integrity[r]}(i,r,e)}(M,r,e.src||n)}))}}))}if(w.prepareImport=function(e){return(T||e)&&(_(),T=!1),C},o&&(_(),window.addEventListener("DOMContentLoaded",_)),o){window.addEventListener("error",(function(e){L=e.filename,$=e.error}));var I=location.origin}w.createScript=function(e){var t=document.createElement("script");t.async=!0,e.indexOf(I+"/")&&(t.crossOrigin="anonymous");var n=M.integrity[e];return n&&(t.integrity=n),t.src=e,t};var L,$,N={},W=w.register;w.register=function(e,t){if(o&&"loading"===document.readyState&&"string"!=typeof e){var n=document.querySelectorAll("script[src]"),r=n[n.length-1];if(r){R=e;var i=this;A=setTimeout((function(){N[r.src]=[e,t],i["import"](r.src)}))}}else R=void 0;return W.call(this,e,t)},w.instantiate=function(e,n){var r=N[e];if(r)return delete N[e],r;var i=this;return Promise.resolve(w.createScript(e)).then((function(r){return new Promise((function(o,c){r.addEventListener("error",(function(){c(Error(t(3,"Error loading "+e+(n?" from "+n:""))))})),r.addEventListener("load",(function(){if(document.head.removeChild(r),L===e)c($);else{var t=i.getRegister(e);t&&t[0]===R&&clearTimeout(A),o(t)}})),document.head.appendChild(r)}))}))},w.shouldFetch=function(){return!1},"undefined"!=typeof fetch&&(w.fetch=fetch);var F=w.instantiate,J=/^(text|application)\/(x-)?javascript(;|$)/;w.instantiate=function(e,n){var r=this;return this.shouldFetch(e)?this.fetch(e,{credentials:"same-origin",integrity:M.integrity[e]}).then((function(i){if(!i.ok)throw Error(t(7,i.status+" "+i.statusText+", loading "+e+(n?" from "+n:"")));var o=i.headers.get("content-type");if(!o||!J.test(o))throw Error(t(4,'Unknown Content-Type "'+o+'", loading '+e+(n?" from "+n:"")));return i.text().then((function(t){return t.indexOf("//# sourceURL=")<0&&(t+="\n//# sourceURL="+e),(0,eval)(t),r.getRegister(e)}))})):F.apply(this,arguments)},w.resolve=function(e,r){return y(M,f(e,r=r||n)||e,r)||function(e,n){throw Error(t(8,"Unable to resolve bare specifier '"+e+(n?"' from "+n:"'")))}(e,r)};var U=w.instantiate;w.instantiate=function(e,t){var n=M.depcache[e];if(n)for(var r=0;r<n.length;r++)E(this,this.resolve(n[r],e),e);return U.call(this,e,t)},i&&"function"==typeof importScripts&&(w.instantiate=function(e){var t=this;return Promise.resolve().then((function(){return importScripts(e),t.getRegister(e)}))}),function(e){var t,n,r,i=e.System.constructor.prototype;var o=i["import"];i["import"]=function(i,c){return function(){for(var i in t=n=void 0,e)a(i)||(t?n||(n=i):t=i,r=i)}(),o.call(this,i,c)};var c=[[],function(){return{}}],s=i.getRegister;i.getRegister=function(){var i=s.call(this);if(i)return i;var o,u=function(i){var o,c,s=0;for(var u in e)if(!a(u)){if(0===s&&u!==t||1===s&&u!==n)return u;o?(r=u,c=i&&c||u):o=u===r,s++}return c}(this.firstGlobalProp);if(!u)return c;try{o=e[u]}catch(f){return c}return[[],function(e){return{execute:function(){e(o),e({"default":o,__useDefault:!0})}}}]};var u="undefined"!=typeof navigator&&-1!==navigator.userAgent.indexOf("Trident");function a(t){return!e.hasOwnProperty(t)||!isNaN(t)&&t<e.length||u&&e[t]&&"undefined"!=typeof window&&e[t].parent===window}}("undefined"!=typeof self?self:e.g),function(e){var t=e.System.constructor.prototype,n=/^[^#?]+\.(css|html|json|wasm)([?#].*)?$/;t.shouldFetch=function(e){return n.test(e)};var r=/^application\/json(;|$)/,i=/^text\/css(;|$)/,o=/^application\/wasm(;|$)/,c=t.fetch;t.fetch=function(t,n){return c(t,n).then((function(c){if(n.passThrough)return c;if(!c.ok)return c;var s=c.headers.get("content-type");return r.test(s)?c.json().then((function(e){return new Response(new Blob(['System.register([],function(e){return{execute:function(){e("default",'+JSON.stringify(e)+")}}})"],{type:"application/javascript"}))})):i.test(s)?c.text().then((function(e){return e=e.replace(/url\(\s*(?:(["'])((?:\\.|[^\n\\"'])+)\1|((?:\\.|[^\s,"'()\\])+))\s*\)/g,(function(e,n,r,i){return"url("+n+l(r||i,t)+n+")"})),new Response(new Blob(["System.register([],function(e){return{execute:function(){var s=new CSSStyleSheet();s.replaceSync("+JSON.stringify(e)+');e("default",s)}}})'],{type:"application/javascript"}))})):o.test(s)?(WebAssembly.compileStreaming?WebAssembly.compileStreaming(c):c.arrayBuffer().then(WebAssembly.compile)).then((function(n){e.System.wasmModules||(e.System.wasmModules=Object.create(null)),e.System.wasmModules[t]=n;var r=[],i=[];return WebAssembly.Module.imports&&WebAssembly.Module.imports(n).forEach((function(e){var t=JSON.stringify(e.module);-1===r.indexOf(t)&&(r.push(t),i.push("function(m){i["+t+"]=m}"))})),new Response(new Blob(["System.register(["+r.join(",")+"],function(e){var i={};return{setters:["+i.join(",")+"],execute:function(){return WebAssembly.instantiate(System.wasmModules["+JSON.stringify(t)+"],i).then(function(m){e(m.exports)})}}})"],{type:"application/javascript"}))})):c}))}}("undefined"!=typeof self?self:e.g);var q="undefined"!=typeof Symbol&&Symbol.toStringTag;w.get=function(e){var t=this[g][e];if(t&&null===t.e&&!t.E)return t.er?null:t.n},w.set=function(e,n){try{new URL(e)}catch(c){console.warn(Error(t("W3",'"'+e+'" is not a valid URL to set in the module registry')))}var r;q&&"Module"===n[q]?r=n:(r=Object.assign(Object.create(null),n),q&&Object.defineProperty(r,q,{value:"Module"}));var i=Promise.resolve(r),o=this[g][e]||(this[g][e]={id:e,i:[],h:!1,d:[],e:null,er:void 0,E:void 0});return!o.e&&!o.E&&(Object.assign(o,{n:r,I:void 0,L:void 0,C:i}),r)},w.has=function(e){return!!this[g][e]},w["delete"]=function(e){var t=this[g],n=t[e];if(!n||n.p&&null!==n.p.e||n.E)return!1;var r=n.i;return n.d&&n.d.forEach((function(e){var t=e.i.indexOf(n);-1!==t&&e.i.splice(t,1)})),delete t[e],function(){var n=t[e];if(!n||!r||null!==n.e||n.E)return!1;r.forEach((function(e){n.i.push(e),e(n.n)})),r=null}};var B="undefined"!=typeof Symbol&&Symbol.iterator;w.entries=function(){var e,t,n=this,r=Object.keys(n[g]),i=0,o={next:function(){for(;void 0!==(t=r[i++])&&void 0===(e=n.get(t)););return{done:void 0===t,value:void 0!==t&&[t,e]}}};return o[B]=function(){return this},o}}(),function(e){var t=e.System;s(t);var n,r,i=t.constructor.prototype,o=t.constructor,c=function(){o.call(this),s(this)};function s(e){e.registerRegistry=Object.create(null),e.namedRegisterAliases=Object.create(null)}c.prototype=i,t.constructor=c;var u=i.register;i.register=function(e,t,i){if("string"!=typeof e)return u.apply(this,arguments);var o=[t,i];return this.registerRegistry[e]=o,n||(n=o,r=e),Promise.resolve().then((function(){n=null,r=null})),u.apply(this,[t,i])};var a=i.resolve;i.resolve=function(e,t){try{return a.call(this,e,t)}catch(n){if(e in this.registerRegistry)return this.namedRegisterAliases[e]||e;throw n}};var f=i.instantiate;i.instantiate=function(e,t){var n=this.registerRegistry[e];return n?(this.registerRegistry[e]=null,n):f.call(this,e,t)};var l=i.getRegister;i.getRegister=function(e){var t=l.call(this,e);r&&e&&(this.namedRegisterAliases[r]=e);var i=n||t;return n=null,r=null,i}}("undefined"!=typeof self?self:e.g);var r=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,i=["*","x",">=0"],o={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]};function c(e){const t=e.replace(/^v/,"").replace(/\+.*$/,""),n=(i="-",-1===(r=t).indexOf(i)?r.length:r.indexOf(i));var r,i;const o=t.substring(0,n).split(".");return o.push(t.substring(n+1)),o}function s(e){const t=parseInt(e,10);return isNaN(t)?e:t}function u(e){const t=e.match(r);return t.shift(),t}function a(e,t){const n=s(e),r=s(t);return n>r?1:n<r?-1:0}function f(e,t,n){const r=function(e,t){const n=c(e),r=c(t),i=Math.max(n.length-1,r.length-1);for(let e=0;e<i;e++){const t=parseInt(n[e]||"0",10),i=parseInt(r[e]||"0",10);if(t>i)return 1;if(i>t)return-1}const o=n[n.length-1],u=r[r.length-1];if(o&&u){const e=o.split(".").map(s),t=u.split(".").map(s),n=Math.max(e.length,t.length);for(let r=0;r<n;r++){if(void 0===e[r]||"string"==typeof t[r]&&"number"==typeof e[r])return-1;if(void 0===t[r]||"string"==typeof e[r]&&"number"==typeof t[r])return 1;if(e[r]>t[r])return 1;if(t[r]>e[r])return-1}}else if(o||u)return o?-1:1;return 0}(e,t);return o[n].indexOf(r)>-1}function l(e){return i.includes(e)||r.test(e)}function p(e,t){if(!i.includes(t)){const n=t.match(/^([<>=~^]+)/),r=n?n[1]:"=";if("^"!==r&&"~"!==r)return f(e,t,r);const[i,o,c]=u(e),[s,l,p]=u(t);return 0===a(i,s)&&("^"===r?function(e,t){for(let n=0;n<2;n++){const r=a(e[n]||"0",t[n]||"0");if(0!==r)return r}return 0}([o,c],[l,p])>=0:0===a(o,l)&&a(c,p)>=0)}return!0}var d=System.constructor.prototype.resolve,h=System.constructor.prototype.register;function m(e){const t=e.indexOf("@",1);if(t>1){const r=Object.keys(System.registerRegistry),i=e.substring(0,t+1),o=e.substring(t+1);if(l(o)){const e=(n=i,[...System.entries()].filter((([e])=>e.startsWith(n))).map((([e])=>e.substring(n.length)))),t=r.filter((e=>e.startsWith(i))).map((e=>e.substring(i.length))),c=[...e,...t.filter((t=>!e.includes(t)))];for(const e of c)if(l(e)&&p(e,o))return i+e}}var n}function y(e,t){System.register(e,[],(e=>({execute(){const n=t();if(n instanceof Promise)return n.then(e);e(n)}})))}function v(e,t){const n=function(e,t){try{return System.resolve(e,t)}catch(n){return}}(e,t),r=n&&System.get(n);if(!r){const t=new Error(`Cannot find module '${e}'`);throw t.code="MODULE_NOT_FOUND",t}return r}function g(e){return"function"==typeof e}function b(e,...t){g(e)&&e(...t)}function O(e){return Promise.resolve(e)}System.constructor.prototype.resolve=function(e,t){try{return d.call(this,e,t)}catch(n){const t=m(e);if(!t)throw n;return t}},System.constructor.prototype.register=function(...e){const t=e.pop();return e.push(((e,n)=>{const r=(...t)=>{if(1!==t.length)return e(...t);{const n=t[0];if(n instanceof Promise)return n.then(r);"function"==typeof n?(e("__esModule",!0),Object.keys(n).forEach((t=>{e(t,n[t])})),e("default",n)):!function(e){const t=typeof e;return"number"===t||"boolean"===t||"symbol"===t||"string"===t||"bigint"===t||Array.isArray(e)}(n)?n&&(e(n),"object"!=typeof n||"default"in n||e("default",n)):(e("__esModule",!0),e("default",n))}};return t(r,n)})),h.apply(this,e)};const w={setup(){}};function S(e,t){const n=function(e){if(e){const t=e.lastIndexOf("/");return e.substring(0,t+1)}return e}(e.link),r=j(e.name,t);return Object.assign(Object.assign(Object.assign({},e),r),{basePath:n})}function j(e,t){if(t){if("function"==typeof t.setup)return t;console.warn("Setup function is missing.",e)}else console.error("Invalid module found.",e);return w}function E(e,t,n,r){return window[e]=e=>v(e,t),x(t,n,r).then((e=>e.app))}function x(e,t,n){return new Promise(((r,i)=>{const o=document.createElement("script");o.async=!0,o.src=e,t?(o.crossOrigin=n||"anonymous",o.integrity=t):n&&(o.crossOrigin=n),o.onload=()=>r(o),o.onerror=e=>i(e),document.body.appendChild(o)}))}const P={};function k(e,t){return function(e){if(e){const t=Object.keys(e);return Promise.all(t.map((t=>P[t]||(P[t]=x(e[t])))))}return O()}(e.dependencies).then(t)["catch"]((t=>function(e,t){return console.error("Failed to load pilet",t,e),w}(t,e.name))).then((t=>S(e,t)))}function R(e,t){const{dependencies:r={},spec:i="v1",name:o=`[bundle] ${e.link}`}=e,c=n(e,["dependencies","spec","name"]);return k(Object.assign({name:o,version:"",config:{},spec:i,dependencies:r},c),(()=>function(e,t){return E(e.bundle,e.link,e.integrity,t)}(e,t.crossOrigin)))}function A(e,t,n=""){const r={exports:{}};try{const i=new Function("module","exports","require",t+(n&&`\n//# sourceURL=${n}`)),o=n||e;i(r,r.exports,(e=>v(e,o)))}catch(i){console.error(`Error while evaluating ${e}.`,i)}return r.exports}function C(e,t){const{name:n,config:r={},dependencies:i={},spec:o="v0"}=e,c=Object.assign({name:n,config:r,dependencies:i,spec:o,link:""},e);if("link"in e&&e.link)return k(c,(()=>{return(t=e.link,fetch(t,{method:"GET",cache:"force-cache"}).then((e=>e.text()))).then((t=>A(n,t,e.link)));var t}));{const t="content"in e&&e.content||"";return k(c,(()=>A(n,t,undefined)))}}function M(e,t){const{dependencies:r={},spec:i="v1"}=e,o=n(e,["dependencies","spec"]);return k(Object.assign({dependencies:r,config:{},spec:i},o),(()=>function(e,t){return E(e.requireRef,e.link,e.integrity,t)}(e,t.crossOrigin)))}function T(e,t){const{dependencies:r={},config:i={},link:o}=e,c=n(e,["dependencies","config","link"]),s=Object.assign({dependencies:r,config:i,link:o},c);return function(e){for(const t of Object.keys(e))if(!System.has(t)){const n=e[t];y(t,(()=>System["import"](n)))}}(r),System["import"](o)["catch"]((e=>function(e,t){return console.error("Failed to load SystemJS module",t,e),w}(e,o))).then((e=>S(s,e)))}const _="unload-pilet";function I(e,t,n){const r=document.querySelector(`link[data-origin=${JSON.stringify(e.name)}]`),i=e.basePath;if(null==r||r.remove(),b(e.teardown,t),b(n.cleanupPilet,e),"requireRef"in e){const t=e.requireRef;delete window[t]}if(i){!function(e,t){[...System.entries()].map((([e])=>e)).filter((n=>n.startsWith(e)&&!t.includes(n))).forEach((e=>System["delete"](e)))}(i,Object.keys(e.dependencies||{}).map((t=>e.dependencies[t])))}}function L(e,t){console.error(`Error while setting up ${e}.`,t)}function $(e,t){return e instanceof Promise?e["catch"]((e=>L(t,e))):O(e)}function N(e,t,n){const r=null==e?void 0:e.name;try{const i=t(e);b(n.setupPilet,e);const o=e.setup(i);return function(e,t,n){const r=i=>{i.name===e.name&&(t.off(_,r),I(e,t,n))};t.on(_,r)}(e,i,n),$(o,r)}catch(i){L(r,i)}return O()}function W(e,t,n){const r=(null==e?void 0:e.name)||"pilet bundle";try{b(n.setupPilet,e);return $(e.setup(t),r)}catch(i){L(r,i)}return O()}function F(e){const t="undefined"!=typeof document;return t&&"link"in e&&"v2"===e.spec?["v2",e,N]:t&&"requireRef"in e&&"v2"!==e.spec?["v1",e,N]:t&&"bundle"in e&&e.bundle?["bundle",e,W]:"hash"in e?["v0",e,N]:["unknown",e,N]}function J(e={}){return t=>{const r=F(t);switch(r[0]){case"v2":return T(r[1]);case"v1":return M(r[1],e);case"v0":return C(r[1]);case"bundle":return R(r[1],e);default:return function(e,t){const{name:r,spec:i="vx",dependencies:o={}}=e,c=n(e,["name","spec","dependencies"]),s=Object.assign({name:r,version:"",spec:i,dependencies:o,config:{},link:"",basePath:""},c);return console.warn("Empty pilet found!",r),O(Object.assign(Object.assign({},s),w))}(r[1])}}}function U(e){return function(e){return!!g(e)||(console.error("Could not get the pilets. Provide a valid `fetchPilets` function."),!1)}(e)?e().then((e=>{if(!Array.isArray(e))throw new Error("The fetched pilets metadata is not an array.");return e.map((e=>Object.assign({},e)))})):O([])}function q(e,t,n,r){if(!Array.isArray(t))return Promise.reject("The existing pilets must be passed as an array.");if(!function(e){return!!g(e)||(console.warn("Invalid `createApi` function. Skipping pilet installation."),!1)}(e))return Promise.resolve([]);try{for(const e of t){const{name:t}=e,[r]=n.filter((e=>e.name===t));r&&n.splice(n.indexOf(r),1)}return function(e,t,n={}){const r=[];if(Array.isArray(t))for(const i of t){const[,,t]=F(i),o=t(i,e,n);r.push(o)}return Promise.all(r).then((()=>t))}(e,[...t,...n],r)}catch(i){return Promise.reject(i)}}function B(e,t){const{fetchPilets:n,dependencies:r={},createApi:i,config:o,pilets:c=[],loadPilet:s=J(o),loaders:u,hooks:a}=e,f=(l=s,"object"==typeof(p=u)&&p?e=>{if("string"==typeof e.spec){const t=p[e.spec];if(g(t))return t(e)}return l(e)}:l);var l,p;return function(e){const t=Object.keys(e);return t.forEach((t=>y(t,(()=>e[t])))),Promise.all(t.map((e=>System["import"](e))))}(r).then((()=>function(e,t){return U(e).then((e=>Promise.all(e.map(t))))}(n,f))).then((e=>q(i,c,e,a))).then((e=>t(undefined,e)))["catch"]((e=>t(e,[])))}function z(e){return`piral-${e}`}var D=function(e={}){const t=[];return{on(n,r){const i=({detail:t})=>t&&t.state===e&&r(t.arg);return document.body.addEventListener(z(n),i),t.push([r,i]),this},off(e,n){const[r]=t.filter((e=>e[0]===n));return r&&(document.body.removeEventListener(z(e),r[1]),t.splice(t.indexOf(r),1)),this},emit(t,n){const r=document.createEvent("CustomEvent");return r.initCustomEvent(z(t),!1,!1,{arg:n,state:e}),document.body.dispatchEvent(r),this}}}();function H(e,t){return Y(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,c,s=[],u=!0,a=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(f){a=!0,i=f}finally{try{if(!u&&null!=n["return"]&&(c=n["return"](),Object(c)!==c))return}finally{if(a)throw i}}return s}}(e,t)||V(e,t)||Q()}function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}function K(e){return Y(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||V(e)||Q()}function Q(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function V(e,t){if(e){if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(e,t):void 0}}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Y(e){if(Array.isArray(e))return e}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==G(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var r=n.call(e,t||"default");if("object"!==G(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===G(o)?o:String(o)),r)}var i,o}function ee(e){var t=re();return function(){var n,r=oe(e);if(t){var i=oe(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===G(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function te(e){var t="function"==typeof Map?new Map:undefined;return te=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return ne(e,arguments,oe(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),ie(r,e)},te(e)}function ne(e,t,n){return ne=re()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&ie(i,n.prototype),i},ne.apply(null,arguments)}function re(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ie(e,t){return ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ie(e,t)}function oe(e){return oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},oe(e)}var ce=new Map,se={};function ue(e,t){var n=se[e]||[];if(!ce.has(t)){var r=Math.random().toString(26).substring(2),i="mf-component-".concat(r);ce.set(t,i),customElements.define(i,t)}n.push(ce.get(t)),se[e]=n,D.emit("component-changed",{name:e,components:n})}function ae(e,t){var n=se[e]||[],r=ce.get(t);if(r){var i=n.indexOf(r);-1!==i&&(n.splice(i,1),D.emit("component-changed",{name:e,components:n}))}}var fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ie(e,t)}(o,e);var t,n,r,i=ee(o);function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=i.call(this))._data={},e.handler=function(t){var n=t.name,r=t.components;n===e.getAttribute("name")&&e.render(r)},e.data=e.getAttribute("data"),e}return t=o,n=[{key:"data",get:function(){return this._data},set:function(e){"string"==typeof e&&(e=decodeURIComponent(e).split("&").reduce((function(e,t){var n=K(t.split("=")),r=n[0],i=n.slice(1);return e[r]=i.join("="),e}),{})),"object"===G(e)&&(this._data=e||{}),this.render()}},{key:"render",value:function(){var e=this;(arguments.length>0&&arguments[0]!==undefined?arguments[0]:[]).slice(this.children.length).forEach((function(t){var n=document.createElement(t);e.appendChild(n)})),Array.from(this.children).forEach((function(t){Object.entries(e._data).forEach((function(e){var n=H(e,2),r=n[0],i=n[1];t.setAttribute(r,i)}))}))}},{key:"connectedCallback",value:function(){var e=this.getAttribute("name");if(e){var t=se[e]||[];this.render(t)}D.on("component-changed",this.handler)}},{key:"disconnectedCallback",value:function(){this.innerHTML="",D.off("component-changed",this.handler)}},{key:"attributeChangedCallback",value:function(e,t,n){t!==n&&("name"===e?(this.disconnectedCallback(),this.connectedCallback()):"data"===e&&(this.data=n))}}],r=[{key:"observedAttributes",get:function(){return["name","data"]}}],n&&Z(t.prototype,n),r&&Z(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(te(HTMLElement));customElements.define("mf-component",fe);!function(e){const t={loaded:!1,pilets:[],error:undefined},n=[],r=e=>e(t.error,t.pilets,t.loaded),i=()=>n.forEach(r),o=()=>{t.loaded=!0,i()},{strategy:c=B}=e;c(e,((e,n)=>{t.error=e,t.pilets=n,i()})).then(o,o)}({fetchPilets:function(){return fetch("https://base-demo.my.piral.cloud/api/v1/pilet").then((function(e){return e.json()})).then((function(e){return e.items}))},loadPilet:J(),createApi:function(e){var n=function(e,n){return{on:n.on,off:n.off,emit:n.emit,meta:t({},e)}}(e,D);return Object.assign(n,{registerComponent:ue,unregisterComponent:ae})}})})()})();
//# sourceMappingURL=index.7bb39e.js.map